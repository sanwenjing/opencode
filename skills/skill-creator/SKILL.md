---
name: skill-creator
description: "严格验证并创建符合OpenCode规范的新技能，包含完整的规范检查、目录结构创建和SKILL.md文件生成。当 Claude 需要创建新技能时用于：(1) 严格验证技能名称和描述格式，(2) 创建标准目录结构（包含scripts目录），(3) 生成符合规范的SKILL.md文件，(4) 验证YAML front matter格式，(5) 提供详细的错误报告和修正建议"
license: 专有。LICENSE.txt 包含完整条款
---

## 我做什么

### 严格验证功能
- **技能名称验证**：严格按照正则表达式 `^[a-z0-9]+(-[a-z0-9]+)*$` 验证名称格式
- **名称长度检查**：确保名称长度在1-64个字符范围内
- **字符规范验证**：禁止以连字符开头或结尾，禁止连续连字符
- **描述长度验证**：确保描述在1-1024个字符范围内
- **目录名一致性检查**：验证目录名与技能名称完全匹配
- **YAML frontmatter验证**：确保所有必需字段存在且格式正确

### 创建功能
- 创建标准目录结构：`技能名/SKILL.md` 和 `技能名/scripts/`
- 生成符合规范的SKILL.md模板文件
- 自动填充必需的YAML frontmatter字段
- 提供可选字段的标准模板
- 创建scripts目录用于存放所有脚本文件

### 错误处理
- 提供详细的错误信息和修正建议
- 阻止不符合规范的技能创建
- 支持交互式错误修正指导

## 何时使用我

当你需要创建新的OpenCode技能时使用此技能。此技能提供：
- **严格规范验证**：确保100%符合OpenCode官方规范
- **错误预防机制**：在创建前拦截所有可能的规范违规
- **详细错误报告**：提供具体的错误位置和修正方案
- **标准化输出**：生成完全符合官方标准的技能结构

## 使用流程

### 严格验证阶段
1. **技能名称验证**
   - 检查长度（1-64字符）
   - 验证字符集（小写字母数字+连字符）
   - 检查连字符使用规范
   - 验证正则表达式匹配

2. **描述验证**
   - 检查长度（1-1024字符）
   - 确保内容具体性

3. **前置检查**
   - 验证目录名与名称一致性
   - 检查文件系统权限

### 创建阶段
4. **目录结构创建**
   - 创建技能主目录
   - 创建scripts子目录

5. **SKILL.md文件生成**
   - 生成标准YAML frontmatter（包含 name, description, license 三个必需字段）
   - 自动添加标准 license 声明
   - 创建模板内容结构，必须包含目录结构和脚本位置说明

6. **Scripts目录设置**
   - 创建scripts目录
   - 设置目录权限
   - 验证目录结构完整性

### 验证阶段
7. **最终验证**
   - 重新验证所有规范要求
   - 检查文件完整性
   - 验证YAML语法正确性
   - 验证scripts目录存在性
   - 验证SKILL.md包含完整的脚本索引和编码声明

8. **结果反馈**
   - 提供详细的创建报告
   - 列出所有验证通过项
   - 标记潜在的改进建议

## 输出标准

### 目录结构标准
创建的技能必须具有以下目录结构：

```
技能名/
├── SKILL.md          # 技能主配置文件（必须包含目录结构和脚本位置说明）
├── scripts/          # 脚本目录（存放所有可执行脚本）
│   ├── script1.py   # 脚本1：功能描述
│   ├── script2.py   # 脚本2：功能描述
│   └── ...
└── LICENSE.txt      # 许可证文件（可选）
```

### 文件内容标准
- **必需frontmatter字段**：
  - `name`: 严格符合命名规范
  - `description`: 1-1024字符，具体明确
  - `license`: 许可证类型（必需，如：专有。LICENSE.txt 包含完整条款）
- **可选frontmatter字段**：
  - `compatibility`: 兼容性信息
  - `metadata`: 字符串到字符串的映射

### SKILL.md内容规范要求

创建新技能时，SKILL.md必须包含以下章节：

#### 1. 目录结构说明
必须在文档中明确说明技能的目录结构，包括：
- 技能主目录位置
- SKILL.md文件位置
- scripts目录位置及用途
- 各脚本文件的相对路径

**格式示例**：
```
### 目录结构
```
技能名/
├── SKILL.md              # 技能主配置文件
└── scripts/              # 脚本目录
    ├── main.py          # 主执行脚本（位于 scripts/main.py）
    └── helper.py        # 辅助脚本（位于 scripts/helper.py）
```
```

#### 2. 脚本索引章节
必须在文档中包含"脚本索引"章节，使用表格列出所有脚本信息：

| 脚本名称 | 脚本路径 | 功能描述 | 调用方式 |
|---------|---------|---------|---------|
| main.py | scripts/main.py | 主程序入口 | `python scripts/main.py` |
| helper.py | scripts/helper.py | 辅助函数库 | `import scripts.helper` |

**必须包含的信息**：
- **脚本名称**: 脚本的标识名称
- **脚本路径**: 相对于技能根目录的路径（如 `scripts/main.py`）
- **功能描述**: 脚本的主要功能（一句话描述）
- **调用方式**: 如何调用此脚本（命令或导入语句）

#### 3. 编码声明要求
- **强制要求**: 所有脚本文件必须使用UTF-8编码
- **声明位置**: 在"脚本索引"章节的开头必须声明：
  > **编码声明**: 本技能所有脚本默认使用UTF-8编码，Windows系统下已配置UTF-8控制台输出。
- **Python脚本特殊要求**: 所有Python脚本开头必须添加编码设置：
  ```python
  # 设置控制台编码为UTF-8
  import sys
  if sys.platform == 'win32':
      import io
      sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')
      sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8')
  ```

#### 4. 脚本位置规范
- **位置要求**: 所有脚本必须存放在`scripts/`目录下，禁止放在技能根目录
- **命名规范**: 脚本文件名应简洁明了，使用小写字母、数字和下划线
- **禁止项**: 不得在根目录下存放任何可执行脚本文件

#### 5. 快速定位指南
为了帮助调用方快速定位脚本，SKILL.md应包含：
- 完整的文件树结构图
- 每个脚本的路径说明
- 调用示例中包含完整路径
- 如有多个脚本，说明脚本间的调用关系

### 完整的SKILL.md模板结构

创建新技能时，生成的SKILL.md应遵循以下完整结构：

```markdown
---
name: 技能名称
description: "技能描述"
license: 专有。LICENSE.txt 包含完整条款
---

## 我做什么
[功能描述，说明技能的核心功能]

## 何时使用我
[使用场景，说明在什么情况下使用此技能]

## 使用流程

### 目录结构
```
技能名/
├── SKILL.md              # 技能主配置文件
└── scripts/              # 脚本目录
    ├── main.py          # 主执行脚本（位于 scripts/main.py）
    └── helper.py        # 辅助脚本（位于 scripts/helper.py）
```

### 脚本索引
**编码声明**: 本技能所有脚本默认使用UTF-8编码，Windows系统下已配置UTF-8控制台输出。

| 脚本名称 | 脚本路径 | 功能描述 | 调用方式 |
|---------|---------|---------|---------|
| main.py | scripts/main.py | 主程序入口 | `python scripts/main.py --help` |
| helper.py | scripts/helper.py | 辅助函数库 | `from scripts.helper import func` |

### 使用方法
[详细的使用说明，包括示例代码]

## 输出标准
[输出规范说明]

## 类别
[技能分类，如：开发工具、文件处理]
```

### 验证清单
创建技能时必须检查以下所有项目：

**基础验证**：
- [ ] 技能名称通过正则表达式验证 `^[a-z0-9]+(-[a-z0-9]+)*$`
- [ ] 名称长度在1-64字符范围内
- [ ] 不包含非法字符或格式（不以连字符开头/结尾，无连续连字符）
- [ ] 描述长度在1-1024字符范围内
- [ ] 目录名与技能名称完全匹配

**文件验证**：
- [ ] YAML frontmatter格式正确
- [ ] 所有必需字段存在（name, description, license）
- [ ] license字段存在且格式正确
- [ ] SKILL.md文件编码为UTF-8

**目录结构验证**：
- [ ] scripts目录已创建
- [ ] 所有脚本存放在scripts目录下
- [ ] 没有在根目录下存放脚本文件

**SKILL.md内容验证**：
- [ ] 包含"目录结构"章节，说明文件组织方式
- [ ] 包含"脚本索引"章节，使用表格列出所有脚本
- [ ] 脚本索引中包含脚本名称、路径、功能描述、调用方式
- [ ] 包含编码声明，明确说明使用UTF-8编码
- [ ] Python脚本包含UTF-8控制台编码设置代码

## 类别
开发工具、技能创建、规范验证
